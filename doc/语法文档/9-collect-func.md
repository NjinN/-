
---
### 集合函数

##### 求长度 
RML中求集合长度的函数为 `len?`，通常RML中以 `?` 结尾的函数表示这是一个用于查询的函数。

```
len? [1 2 3] 		;返回 3

len? "12345" 		;返回 5

```
目前 `len?` 可以接受字符串、方块、对象、哈希表作为参数，对于对象和哈希表类型，返回其底层map中键值对的数量。</br>

##### 在尾部添加
```
append "123" "45" 			;返回 "12345"

append "123" ["45" "67"]	;返回 "1234567"

append [1 2 3] [4 5]		;返回 [1 2 3 4 5]

append/only [1 2 3] [4 5]	;返回 [1 2 3 [4 5]] 使用only修饰字，表示添加的方块作为一个Token

append {} [a 123]			;返回 {a: 123}

append %c/rml/ %rml.go		;返回 %c/rml/rml.go

append http://www.baidu.com  "/index.html"	;返回 http://www.baidu.com/index.html

```
注意在RML中对集合操作的函数通常要两套，例如`append`函数会拷贝传入的参数，所有操作都不会影响实参。
</br>
而对应的会有一个 `append*` 函数，以 `*` 结尾的函数会改变实参，例如

```
str: "123"
append str "45"		;返回 "12345"
str					;返回 "123" str没有改变
append* str "45"	;返回 "12345"
str					;返回 "12345" str被改变
```

##### 插出

```
insert "123" "45"				;返回 "45123"

insert/at "123" "45" 3			;返回 "12453" 通过at修饰字指定插入的位置

insert [1 2 3] [4 5]			;返回 [4 5 1 2 3]

insert/at [1 2 3] [4 5] 3		;返回 [1 2 4 5 3]

insert/at/only [1 2 3] [4 5] 3	;返回 [1 2 [4 5] 3]  使用only修饰字，插入的方块作为一个Token

```

##### 取值
```
take "123"					;返回 #'1'

take/at "123" 2				;返回 #'2' 

take/at/part "123" 2 2		;返回 "23"

take [1 2 3]				;返回 1

take/at [1 2 3] 2			;返回 2

take/at/part [1 2 3] 2 3	;返回 [2 3]

```

##### 替换
```
replace "111222" "1" "3"				;返回 "311222"	

replace/all "111222" "1" "3"			;返回 "333222"

replace/at/all "111222" "1" "3" 2		;返回 "133222"
	
replace [1 1 2 2] 1 3					;返回 [3 1 2 2]

replace/all [1 1 2 2] 1 3				;返回 [3 3 2 2]

replace/at [1 1 2 2] 1 3 2				;返回 [1 3 2 2]

replace [1 1 2 2] [1 2] [3 4]			;返回 [1 3 4 2]

replace [1 1 2 2] [1 2] [[3 4]]			;返回 [1 [3 4] 2]

```

##### 哈希表操作
```
map: !map{}

put map 123 "456"		;返回 !map{[123 "456"]}

get map 123			;返回 "456" 

```










